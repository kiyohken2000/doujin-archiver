# Doujin Archiver

同人誌のダウンロードと整理を自動化するPythonスクリプトです。特にコミックマーケット（コミケ）などのイベントで発表された作品の管理に役立ちます。

## 機能

- 指定サイトから同人誌の最新更新情報を自動取得
- PDFファイルの自動ダウンロード
- イベント名、サークル名、原作名を使用した整理されたファイル命名
- コミケのイベント名を「Cxxx」形式に統一（例：C104, C105）
- ダウンロード履歴の管理による重複ダウンロード防止
- 詳細なログ記録

## 要件

- Python 3.6以上
- 外部ライブラリ：
  - requests
  - beautifulsoup4

## インストール

```bash
# リポジトリをクローン
git clone https://github.com/yourusername/doujin-archiver.git
cd doujin-archiver

# 必要なライブラリをインストール
pip install -r requirements.txt
```

## 使い方

1. 設定を確認・変更する（必要に応じて）
   - `BASE_URL`：対象サイトのURL
   - `DOWNLOAD_DIR`：ダウンロードしたファイルを保存するディレクトリ

2. スクリプトを実行
   ```bash
   python doujin_downloader.py
   ```

3. ログを確認
   - ターミナルにログが表示されます
   - 詳細なログは `doujin_downloader.log` に保存されます

## ファイル命名形式

ダウンロードされたPDFは以下の形式で命名されます：

- イベントがある場合：`(イベント名)[サークル名]原作名.pdf`
  - 例：`(C104)[サークル名]作品名.pdf`
- イベントがなく発行日がある場合：`[サークル名]原作名 発行日.pdf`
- 上記どちらもない場合：`[サークル名]原作名 更新日.pdf`

## コミケイベント名の処理

コミケ関連のタグは自動的に「Cxxx」形式に変換されます：

- タグに「Cxxx」が既に含まれている場合：そのまま使用
  - 例：「2021年冬コミ(C99)」→「C99」
- 年と季節が含まれている場合：対応するC番号を推定
  - 例：「2024年夏コミ」→「C104」
  - 例：「2024年冬コミ」→「C105」

## 注意事項

- 対象サイトの利用規約に従って使用してください
- サーバーに過剰な負荷をかけないよう、ダウンロード間隔を適切に設定しています
- このスクリプトは教育目的で提供されています

## ライセンス

MIT

## 免責事項

このツールを使用して発生したいかなる問題や損害についても、作者は責任を負いません。対象サイトの利用規約およびガイドラインに従った使用をお願いします。